(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,a){e.exports=a(272)},141:function(e,t,a){},142:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},269:function(e,t,a){},272:function(e,t,a){"use strict";a.r(t);var n,l=a(0),r=a.n(l),i=a(18),o=a.n(i),s=(a(141),a(57)),c=a(17),d=a(11),u=a(12),p=a(14),m=a(13),h=a(15),f=a(23),b=(a(83),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).switchActiveState=function(e){e<=a.state.step&&(a.props.onClickStep(e),a.setState({label:a.props.stepperData.executeModelRequest&&a.props.stepperData.executeModelRequest.label}))},a.selectLableTableBtn=function(e){e<=a.state.step&&a.props.onSelectStep(e)},a.switchActiveResultView=function(e){e<=a.state.step&&a.props.backOnResultView(e)},a.switchActiveTableView=function(e){a.props.backOnTableView(e)},a.switchToTrainedView=function(e){a.props.forwardOnTrainedView(e)},a.switchToUploadView=function(){a.props.backOnUploadView()},a.switchActivePredictedView=function(e,t,n){a.props.backOnPredictedView(a.state.predicted,n)},a.state={step:0,classes:["active","",""],evelResults:null,predicted:!1,label:null},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.step!==this.state.step&&this.onStepChange(e.step)}},{key:"onStepChange",value:function(e){var t=this.state.classes;t=t.map(function(t,a){return a<e?"visited":a===e?"active":""}),this.setState({classes:t,step:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.classes,n=t.step,l=this.props.stepperData.executeModelRequest.label,i=this.props.selectedLabel,o=window.mwExtVariable.useExternal;return r.a.createElement("div",{className:"stepper-main"},r.a.createElement("div",{className:"md-stepper-horizontal orange"},r.a.createElement("div",{className:"md-step ".concat(a[0]," done")},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("img",{alt:"Upload",src:"".concat("","/extensions/MWEx/build/ICON1.png")})),r.a.createElement("div",{className:"md-step-title"},"Upload your training file"),r.a.createElement("div",{className:"md-step-title"},o?r.a.createElement("button",{onClick:function(t){return e.switchActiveState(0,t)},className:"btn"},"BROWSE"):r.a.createElement("button",{className:"btn",onClick:function(t){return e.selectLableTableBtn(0,t)}},"UPLOAD")),r.a.createElement("div",{className:"md-step-bar-left"}),r.a.createElement("div",{className:"md-step-bar-right"})),r.a.createElement("div",{className:"md-step ".concat(a[1]," editable")},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("img",{alt:"Train",src:"".concat("","/extensions/MWEx/build/Group5.png")})),r.a.createElement("div",{className:"md-step-title"},"Model building"),r.a.createElement("div",{className:"md-step-title"},2===n&&this.props.stepperData.evelResults||this.props.stepperData.evelResults&&1===n||!0===this.props.stepperData.predicted&&2===n?r.a.createElement("button",{className:"back-btn-stepper",onClick:1===n?function(t){return e.switchActiveTableView(0,t)}:2===n&&!1===this.props.stepperData.predicted?function(t){return e.switchActivePredictedView(2,t,l)}:function(t){return e.switchActiveResultView(2,t)}}):null,r.a.createElement("button",{className:"btn",onClick:function(t){return e.switchActiveState(1,t)}},"TRAIN"),!this.props.stepperData.loading&&this.props.stepperData.tempEvelResults&&(l&&l)===i?r.a.createElement("button",{id:"1",className:"back-btn-Prediction",onClick:function(t){return e.switchToTrainedView()}}):1===n&&!1===!!this.props.stepperData.predicted&&this.props.stepperData.evelResults&&this.props.stepperData.predictFileName&&(l&&l)===i?r.a.createElement("button",{id:"2",className:"back-btn-Prediction",onClick:this.switchToUploadView}):null),r.a.createElement("div",{className:"md-step-bar-left"}),r.a.createElement("div",{className:"md-step-bar-right"})),r.a.createElement("div",{className:"md-step ".concat(a[2])},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("img",{alt:"Predict",src:"".concat("","/extensions/MWEx/build/ICON3.jpg")})),r.a.createElement("div",{className:"md-step-title"},"Make Predictions"),r.a.createElement("div",{className:"md-step-title"},r.a.createElement("button",{className:"btn",onClick:function(t){return e.switchActiveState(2,t)}},"PREDICT")),r.a.createElement("div",{className:"md-step-bar-left"}),r.a.createElement("div",{className:"md-step-bar-right"}))))}}]),t}(l.Component)),g=(a(142),function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-main"},this.props.children)}}]),t}(l.Component)),v=a(40),y=a.n(v),x=a(2),w=a(58),_=a(129),E=a.n(_),S=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<30;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},C=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={gradRandomId:S(),margin:{top:10,right:10,bottom:-100,left:10},padding:20},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"renderGraph",value:function(e){var t=e.matrix_data?e.matrix_data:null,a=50;if(t&&t.length>0){x.select(this.boxPlot).select("svg").remove();var n=this.state,l=n.margin,r=n.padding,i=n.gradRandomId,o=e.width-l.left-l.right,s=e.height-l.top-l.bottom;a=(s-r)/2;var c=x.scale.linear().range([r,o-r]),d=x.svg.axis().scale(c).orient("bottom"),u=1/0,p=1/0,m=0,h=0,f=-1/0,b=-1/0;t.length>0&&t[0]&&(p=t[0].lower_quartile,m=t[0].median,u=t[0].lower_whisker,f=t[0].upper_whisker,h=t[0].iqr,b=t[0].maximum),c.domain([0,1.1*b]);var g=x.select(this.boxPlot).append("svg").attr("width",o).attr("height",s);g.append("g").attr("class","axis").attr("transform","translate(0, "+(s-r-95)+")").call(d),g.append("text").attr("transform","translate("+o/2+" ,"+(s+l.top+20-41)+")").style("text-anchor","middle").style("font-size","medium").attr("font-family","Roboto").attr("stroke","#979797").attr("font-weight","300").text(e.columnName),g.append("line").attr("x1",c(u)).attr("x2",c(u)).attr("y1",a-15).attr("y2",a+15),g.append("line").attr("x1",c(f)).attr("x2",c(f)).attr("y1",a-15).attr("y2",a+15),g.append("line").style("stroke-dasharray","3, 3").attr("x1",c(u)).attr("x2",c(f)).attr("y1",a).attr("y2",a),g.selectAll("path").style("display","block").style("shape-rendering","unset").attr("fill","#979797");var v=g.append("defs").append("linearGradient").attr("id","gradient-box-plot"+i).attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","100%").attr("spreadMethod","pad");v.append("stop").attr("offset","0%").attr("stop-color","#F49646").attr("stop-opacity",1),v.append("stop").attr("offset","100%").attr("stop-color","#EE656D").attr("stop-opacity",1),g.append("rect").style("fill","url(#gradient-box-plot"+i+")").style("stroke","#F49646").attr("x",c(p)).attr("y",r+95).attr("width",c(h)-r).attr("height",30),g.append("line").attr("x1",c(m)).attr("x2",c(m)).attr("y1",a-15).attr("y2",a+15),g.append("g").selectAll("circle").data(t[0].upper_fliers).enter().append("circle").attr("class","selected").attr("r",function(e){return e<u||e>f?4:2}).attr("cy",function(e){return function(){var e;e=0===Math.round(1*Math.random())?-5:5;return a+Math.floor(Math.random()*e+1)}()}).attr("cx",function(e){return c(e)})}}},{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.renderGraph(e)}},{key:"componentDidMount",value:function(){this.renderGraph(this.props)}},{key:"componentWillUnmount",value:function(){x.select(this.boxPlot).select("svg").remove()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){e.boxPlot=t}})}}]),t}(l.Component),k=350,R=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<30;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},D=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).chartBookmarked=function(){a.props.onBookmarked("BOOKMARK",a.props.columnName,a.props)},a.chartBookmarkedUndo=function(){a.props.onBookmarked("UNBOOKMARK",a.props.columnName,a.props)},a.state={gradRandomId:R()},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.drawChart(e)}},{key:"drawChart",value:function(e){var t=e.chart_type,a=void 0===t?"bar":t;e.chartData.length>0&&("bar"===a?this.drawBarChart(e):"histo"===a&&this.drawHistoChart(e))}},{key:"drawBarChart",value:function(e){x.select(this.chart).select("g").remove();var t=e.width,a=void 0===t?0:t,l=e.height,r=void 0===l?0:l,i=e.mode,o=void 0===i?"micro":i,s=[];e.chartData.map(function(e){return s.push({xaxis:e.xaxis,yaxis:e.count}),e});var c={top:20,right:20,bottom:30,left:70};"micro"===o&&(c={top:10,right:10,bottom:10,left:10});var d=a-c.left-c.right,u=r-c.top-c.bottom,p=x.scale.ordinal().rangeRoundBands([0,d],.1),m=x.scale.linear().range([u,0]),h=x.svg.axis().scale(p).orient("bottom"),f=x.svg.axis().scale(m).orient("left");p.domain(s.map(function(e){return e.xaxis})),m.domain([0,x.max(s,function(e){return e.yaxis})]).nice();var b=x.select(this.chart).attr("width",a).attr("height",r).attr("fill","#757575").attr("font-size","12px").append("g").attr("transform","translate("+c.left+","+c.top+")"),g=b.append("defs").append("svg:linearGradient").attr("id","gradient"+this.state.gradRandomId).attr("x1","100%").attr("y1","0%").attr("x2","100%").attr("y2","100%").attr("spreadMethod","pad");g.append("stop").attr("offset","0%").attr("stop-color","#F28454").attr("stop-opacity",1),g.append("stop").attr("offset","100%").attr("stop-color","#EE686A").attr("stop-opacity",1),b.append("g").attr("class","x axis").attr("transform","translate(0,"+u+")").call(h),b.append("g").attr("class","y axis").call(f),e.columnName&&"full"===o&&(b.append("text").style("text-anchor","middle").attr("font-size","14px").attr("transform","translate("+d/2+","+(u+20)+")").text(e.columnName),b.append("g").attr("transform","translate(-40,"+u/2+")").append("text").style("text-anchor","middle").attr("font-size","14px").attr("transform","rotate(-90)").text("Frequency")),b.selectAll(".axis path").attr("fill","none"),b.selectAll(".x.axis").attr("fill","none");var v=x.svg.brush().x(p).y(m).on("brushend",function(){if(v.empty())return n?(p.domain(s.map(function(e){return e.xaxis})),m.domain([0,x.max(s,function(e){return e.yaxis})]).nice(),b.select(".y.axis").call(f),b.select(".x.axis").call(h),b.select("g.bars").remove(),b.append("g").attr("class","bars").selectAll("rect").data(s).enter().append("rect").attr("fill","#BDBDBD").attr("x",function(e){return p(e.xaxis)}).attr("width",p.rangeBand()).attr("y",function(e){return m(e.yaxis)}).attr("height",function(e){return u-m(e.yaxis)}),void("full"===o&&b.selectAll(".bars rect").attr("fill","url(#gradient"+y.state.gradRandomId+")").on("mouseover",function(e){x.select("body").selectAll(".toolTip").remove(),x.select("body").append("div").attr("class","toolTip");var t=x.select("body .toolTip");t.style("left",x.event.pageX+"px"),t.style("top",x.event.pageY-40+"px"),t.style("display","inline-block"),t.html(e.xaxis+", "+e.yaxis)}).on("mouseout",function(){x.select("body").selectAll(".toolTip").remove()}))):n=setTimeout(w,k);var e=v.extent(),t=s.filter(function(t){return p(t.xaxis)>=e[0][0]&&p(t.xaxis)<=e[1][0]});p.domain(t.map(function(e){return e.xaxis})),m.domain([e[0][1],e[1][1]]).nice(),b.select(".y.axis").call(f),b.select(".x.axis").call(h),b.select("g.bars").remove(),b.append("g").attr("class","bars").selectAll("rect").data(t).enter().append("rect").attr("fill","#BDBDBD").attr("x",function(e){return p(e.xaxis)}).attr("width",p.rangeBand()).attr("y",function(e){return m(e.yaxis)}).attr("height",function(e){return u-m(e.yaxis)}),"full"===o&&b.selectAll(".bars rect").attr("fill","url(#gradient"+y.state.gradRandomId+")").on("mouseover",function(e){x.select("body").selectAll(".toolTip").remove(),x.select("body").append("div").attr("class","toolTip");var t=x.select("body .toolTip");t.style("left",x.event.pageX+"px"),t.style("top",x.event.pageY-40+"px"),t.style("display","inline-block"),t.html(e.xaxis+", "+e.yaxis)}).on("mouseout",function(){x.select("body").selectAll(".toolTip").remove()});b.select(".brush").call(v.clear())});"full"===o&&(b.append("g").attr("class","brush").call(v).selectAll("rect"),b.select(".extent").attr("fill-opacity",".125").attr("shape-rendering","crispEdges")),b.append("g").attr("class","bars").selectAll("rect").data(s).enter().append("rect").attr("fill","#BDBDBD").attr("x",function(e){return p(e.xaxis)}).attr("width",p.rangeBand()).attr("y",function(e){return m(e.yaxis)}).attr("height",function(e){return u-m(e.yaxis)}),"micro"===o&&(b.selectAll(".axis").attr("fill","none"),x.select(this.chart).on("mouseover",function(){x.select(this).selectAll(".bars rect").attr("fill","rgb(242, 131, 85)")}).on("mouseout",function(){x.select(this).selectAll(".bars rect").attr("fill","#BDBDBD")})),"full"===o&&b.selectAll(".bars rect").attr("fill","url(#gradient"+this.state.gradRandomId+")").on("mouseover",function(e){x.select("body").selectAll(".toolTip").remove(),x.select("body").append("div").attr("class","toolTip");var t=x.select("body .toolTip");t.style("left",x.event.pageX+"px"),t.style("top",x.event.pageY-40+"px"),t.style("display","inline-block"),t.html(e.xaxis+", "+e.yaxis)}).on("mouseout",function(){x.select("body").selectAll(".toolTip").remove()});var y=this;function w(){n=null}}},{key:"drawHistoChart",value:function(e){x.select(this.chart).select("g").remove();var t=e.width,a=void 0===t?0:t,l=e.height,r=void 0===l?0:l,i=e.mode,o=void 0===i?"micro":i,s=[];e.chartData.map(function(e){return s.push({xaxis:e.bin,yaxis:e.count}),e});var c={top:20,right:20,bottom:30,left:70};"micro"===o&&(c={top:10,right:10,bottom:10,left:10});var d=a-c.left-c.right,u=r-c.top-c.bottom,p=x.scale.ordinal().rangeRoundBands([0,d],.1),m=x.scale.linear().range([u,0]),h=x.svg.axis().scale(p).orient("bottom"),f=x.svg.axis().scale(m).orient("left");p.domain(s.map(function(e){return e.xaxis})),m.domain([0,x.max(s,function(e){return e.yaxis})]).nice();var b=x.select(this.chart).attr("width",a).attr("height",r).attr("fill","#757575").attr("font-size","12px").append("g").attr("transform","translate("+c.left+","+c.top+")"),g=b.append("defs").append("svg:linearGradient").attr("id","gradient"+this.state.gradRandomId).attr("x1","100%").attr("y1","0%").attr("x2","100%").attr("y2","100%").attr("spreadMethod","pad");g.append("stop").attr("offset","0%").attr("stop-color","#F28454").attr("stop-opacity",1),g.append("stop").attr("offset","100%").attr("stop-color","#EE686A").attr("stop-opacity",1),b.append("g").attr("class","x axis").attr("transform","translate(0,"+u+")").call(h),b.append("g").attr("class","y axis").call(f),e.columnName&&"full"===o&&(b.append("text").style("text-anchor","middle").attr("font-size","14px").attr("transform","translate("+d/2+","+(u+20)+")").text(e.columnName),b.append("g").attr("transform","translate(-40,"+u/2+")").append("text").style("text-anchor","middle").attr("font-size","14px").attr("transform","rotate(-90)").text("Frequency")),b.selectAll(".axis path").attr("fill","none"),b.selectAll(".x.axis").attr("fill","none");var v=x.svg.brush().x(p).y(m).on("brushend",function(){if(v.empty())return n?(p.domain(s.map(function(e){return e.xaxis})),m.domain([0,x.max(s,function(e){return e.yaxis})]).nice(),b.select(".y.axis").call(f),b.select(".x.axis").call(h),b.select("g.bars").remove(),b.append("g").attr("class","bars").selectAll("rect").data(s).enter().append("rect").attr("fill","#BDBDBD").attr("x",function(e){return p(e.xaxis)}).attr("width",p.rangeBand()).attr("y",function(e){return m(e.yaxis)}).attr("height",function(e){return u-m(e.yaxis)}),void("full"===o&&b.selectAll(".bars rect").attr("fill","url(#gradient"+y.state.gradRandomId+")").on("mouseover",function(e){x.select("body").selectAll(".toolTip").remove(),x.select("body").append("div").attr("class","toolTip");var t=x.select("body .toolTip");t.style("left",x.event.pageX+"px"),t.style("top",x.event.pageY-40+"px"),t.style("display","inline-block"),t.html(e.xaxis+", "+e.yaxis)}).on("mouseout",function(){x.select("body").selectAll(".toolTip").remove()}))):n=setTimeout(w,k);var e=v.extent(),t=s.filter(function(t){return p(t.xaxis)>=e[0][0]&&p(t.xaxis)<=e[1][0]});p.domain(t.map(function(e){return e.xaxis})),m.domain([0,x.max(t,function(e){return e.yaxis})]).nice(),b.select(".y.axis").call(f),b.select(".x.axis").call(h),b.select("g.bars").remove(),b.append("g").attr("class","bars").selectAll("rect").data(t).enter().append("rect").attr("fill","#BDBDBD").attr("x",function(e){return p(e.xaxis)}).attr("width",p.rangeBand()).attr("y",function(e){return m(e.yaxis)}).attr("height",function(e){return u-m(e.yaxis)}),"full"===o&&b.selectAll(".bars rect").attr("fill","url(#gradient"+y.state.gradRandomId+")").on("mouseover",function(e){x.select("body").selectAll(".toolTip").remove(),x.select("body").append("div").attr("class","toolTip");var t=x.select("body .toolTip");t.style("left",x.event.pageX+"px"),t.style("top",x.event.pageY-40+"px"),t.style("display","inline-block"),t.html(e.xaxis+", "+e.yaxis)}).on("mouseout",function(){x.select("body").selectAll(".toolTip").remove()});b.select(".brush").call(v.clear())});"full"===o&&(b.append("g").attr("class","brush").call(v).selectAll("rect"),b.select(".extent").attr("fill-opacity",".125").attr("shape-rendering","crispEdges")),b.append("g").attr("class","bars").selectAll("rect").data(s).enter().append("rect").attr("fill","#BDBDBD").attr("x",function(e){return p(e.xaxis)}).attr("width",p.rangeBand()).attr("y",function(e){return m(e.yaxis)}).attr("height",function(e){return u-m(e.yaxis)}),"full"===o&&b.selectAll(".bars rect").attr("fill","url(#gradient"+this.state.gradRandomId+")").on("mouseover",function(e){x.select("body").selectAll(".toolTip").remove(),x.select("body").append("div").attr("class","toolTip");var t=x.select("body .toolTip");t.style("left",x.event.pageX+"px"),t.style("top",x.event.pageY-40+"px"),t.style("display","inline-block"),t.html(e.xaxis+", "+e.yaxis)}).on("mouseout",function(){x.select("body").selectAll(".toolTip").remove()}),"micro"===o&&(b.selectAll(".axis").attr("fill","none"),x.select(this.chart).on("mouseover",function(){x.select(this).selectAll(".bars rect").attr("fill","rgb(242, 131, 85)")}).on("mouseout",function(){x.select(this).selectAll(".bars rect").attr("fill","#BDBDBD")}));var y=this;function w(){n=null}}},{key:"componentDidMount",value:function(){this.drawChart(this.props)}},{key:"componentWillUnmount",value:function(){x.select(this.chart).select("g").remove()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("svg",{ref:function(t){e.chart=t}}))}}]),t}(r.a.Component),T=(a(226),a(227),function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<30;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}),A=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).onMiniChartClick=function(e,t,n){var l=a.state.tableId;a.setState({isChartView:!0,headerSelectedKey:t},function(){x.select(".virtualized-table-"+l+" .ReactVirtualized__Grid__innerScrollContainer").selectAll(".table-toolTip").remove(),document.querySelector(".virtualized-table-".concat(l," .ReactVirtualized__Table__Grid")).style.display="none"})},a.backToTable=function(e){var t=a.state.tableId;a.setState({isChartView:!1,headerSelectedKey:null},function(){x.select(".virtualized-table-"+t+" .ReactVirtualized__Grid__innerScrollContainer").selectAll(".table-toolTip").remove();var e=document.querySelector(".virtualized-table-".concat(t," .ReactVirtualized__Table__headerRow .header-active"));e&&e.classList.remove("header-active"),document.querySelector(".virtualized-table-".concat(t," .ReactVirtualized__Table__Grid")).style.display="inline-block"})},a.onColumnMouseOver=function(e,t,n){var l=a.state,r=l.columns,i=l.tableId,o=a.calculateColumnWidth(),s=null,c=r.find(function(e){return e.dataKey===t}).index;if(a.props.data&&a.props.data.summary_stats&&Object.keys(a.props.data.summary_stats).forEach(function(e){a.props.data.summary_stats[e]["Column Name"]===r[c].dataKey&&(s=a.props.data.summary_stats[e])}),x.select(".virtualized-table-"+i+" .ReactVirtualized__Grid__innerScrollContainer").selectAll(".table-toolTip").remove(),s){var d=x.select(".virtualized-table-"+i+" .ReactVirtualized__Grid__innerScrollContainer").append("div").attr("class","table-toolTip");d.style("left",o*c+"px"),d.style("top","100px"),d.style("display","inline-block"),d.html("<table style='width:"+(o-10)+"px;'><tr style='width:"+o+"px; height: 40px;'><td style='width: 50%;text-align: start'>Mean</td><td style='width: 50%;text-align: end'>"+(s.Mean?s.Mean:"-")+"</td></tr><tr style='width:"+o+"px; height: 40px;'><td style='width: 50%;text-align: start'>Type</td><td style='width: 50%;text-align: end'>"+(s.Type?s.Type:"-")+"</td></tr><tr style='width:"+o+"px; height: 40px;'><td style='width: 50%;text-align: start'>Min</td><td style='width: 50%;text-align: end'>"+(s.Min?s.Min:"-")+"</td></tr><tr style='width:"+o+"px; height: 40px;'><td style='width: 50%;text-align: start'>Max</td><td style='width: 50%;text-align: end'>"+(s.Max?s.Max:"-")+"</td></tr><tr style='width:"+o+"px; height: 40px;'><td style='width: 50%;text-align: start'>Std Dev</td><td style='width: 50%;text-align: end'>"+(s.Std?s.Std:"-")+"</td></tr><tr style='width:"+o+"px; height: 40px;'><td style='width: 50%;text-align: start'>Unique</td><td style='width: 50%;text-align: end'>"+(s.Unique?s.Unique:"-")+"</td></tr><tr style='width:"+o+"px; height: 40px;'><td style='width: 50%;text-align: start'>Missing</td><td style='width: 50%;text-align: end'>"+(s.Missing?s.Missing:"-")+"</td></tr></table>")}},a.onColumnMouseOut=function(){x.select(".virtualized-table-"+a.state.tableId+" .ReactVirtualized__Grid__innerScrollContainer").selectAll(".table-toolTip").remove()},a.onHeaderClick=function(e){var t=Object(f.a)(Object(f.a)(a)),n=a.state,l=n.columns,r=n.isChartView,i=n.headerSelectedKey,o=n.tableId;r?a.setState({headerSelectedKey:e.dataKey}):i===e.dataKey?(a.setState({headerSelectedKey:null}),x.select(".virtualized-table-"+a.state.tableId+" .ReactVirtualized__Grid__innerScrollContainer").selectAll(".table-header-toolTip").remove()):a.setState({headerSelectedKey:e.dataKey},function(){x.select(".virtualized-table-"+o+" .ReactVirtualized__Grid__innerScrollContainer").selectAll(".table-header-toolTip").remove(),x.select(".virtualized-table-"+o+" .ReactVirtualized__Grid__innerScrollContainer").selectAll(".table-toolTip").remove();var n=a.calculateColumnWidth(),r="sortColumnId-"+T(),i="deleteColumnId-"+T(),s=l.find(function(t){return t.dataKey===e.dataKey}).index,c=x.select(".virtualized-table-"+o+" .ReactVirtualized__Grid__innerScrollContainer").selectAll(".ReactVirtualized__Table__row:first-of-type").append("div").attr("class","table-header-toolTip");c.style("left",s*n+"px"),c.style("top","-10px"),c.style("display","inline-block"),c.html("<table style='width:"+(n-10)+"px;background-color: rgba(130, 128, 128, 0.13)'><tr style='height: 30px;font-size: 16px'><td style='width: 50%;'><span id='"+r+"' style='cursor: pointer'>[+]</span></td><td style='width: 50%;border-left: 1px solid #BDBDBD'><span id='"+i+"' style='cursor: pointer'>X</span></td></tr></table>"),x.select("#"+r).on("click",function(){t.setState({newSelectedLabel:null,headerSelectedKey:null},function(){x.select(".virtualized-table-"+o+" .ReactVirtualized__Grid__innerScrollContainer").selectAll(".table-header-toolTip").remove(),t.props.onSelectedLabel(e.dataKey)})}),x.select("#"+i).on("click",function(){({})[e.dataKey]=l.find(function(t){return t.dataKey===e.dataKey}).type,t.setState({newSelectedLabel:null,headerSelectedKey:null},function(){x.select(".virtualized-table-"+o+" .ReactVirtualized__Grid__innerScrollContainer").selectAll(".table-header-toolTip").remove(),t.props.onRemoveColumn(e.dataKey)})})})},a._onUndo=function(e){a.props.onUndo&&a.props.onUndo()},a.calculateColumnWidth=function(){var e=a.state.width;return parseInt((e-50)/a._getDisplayColumns())},a.calculateTableWidth=function(){var e=a.state.columns.map(function(e){return e.width});return e.length>0?e.reduce(function(e,t){return e+t}):a.state.width},a.renderFullChart=function(){var e=a.state,t=e.tableId,n=e.columns,l=e.histData,i=e.barData,o=e.rowHeight,s=e.pageItem,c=e.tbFirstHeight,d=e.headerSelectedKey,u=a._getDisplayColumns(),p=n.find(function(e){return e.dataKey===d}),m=u*p.width,h=o*s+c,b="N"===p.type?"histo":"bar",g="N"===p.type?l.find(function(e){return e.cols===d}).data:i.find(function(e){return e.cols===d}).data,v={mode:"full",width:70*m/100,height:60*h/100,chart_type:b,chartData:g,columnName:d};x.select(".ReactVirtualized__Grid__innerScrollContainer").selectAll(".ReactVirtualized__Table__row:first-of-type").selectAll(".table-header-toolTip").remove();var y=document.querySelector(".virtualized-table-".concat(t," .ReactVirtualized__Table__headerRow .header-active"));y&&y.classList.remove("header-active"),document.querySelector(".virtualized-table-".concat(t," .ReactVirtualized__Table__headerRow")).querySelector('.ReactVirtualized__Table__headerColumn[aria-label="'+d+'"]').classList.add("header-active");var w=null;Object.keys(a.props.data.summary_stats).forEach(function(e){a.props.data.summary_stats[e]["Column Name"]===d&&(w=a.props.data.summary_stats[e])});var _={width:70*m/100,height:39*h/100,columnName:d,matrix_data:a.props.data.box[d]},E=["Mean","Median","Min","Max","Std","Unique","Missing","Column Name"];return r.a.createElement("div",{style:{backgroundColor:"rgba(189, 189, 189, 0.34)",width:m,height:h}},r.a.createElement("div",{style:{float:"left",width:25*m/100,height:h,maxHeight:h,overflowY:"hidden",overflowX:"hidden",background:"#fff",border:"1px solid #BDBDBD",borderTop:"0px none",boxSizing:"border-box"}},r.a.createElement("table",{style:{width:25*m/100,color:"#757575",height:h,fontSize:"12px"}},r.a.createElement("tbody",null,r.a.createElement("tr",{style:{height:"30px"}},r.a.createElement("td",{style:{width:"100%",textAlign:"start",border:"none",outline:"none"}},"Summary")),Object.keys(w).map(function(e,t){return E.indexOf(e)>-1&&"Column Name"!==e?r.a.createElement("tr",{style:{height:"30px"},key:t},r.a.createElement("td",{style:{width:25*m/100/2-4,textAlign:"start",float:"left",lineHeight:"3",border:"none",outline:"none"}},"Std"===e?"Std Dev":e),r.a.createElement("td",{style:{width:25*m/100/2-4,textAlign:"end",float:"left",lineHeight:"3",border:"none",outline:"none"}},w[e]?w[e]:"-")):null}),r.a.createElement("tr",{style:{height:"30px"}},r.a.createElement("td",{style:{width:"100%",textAlign:"start",border:"none",outline:"none"}},"Top Values")),Object.keys(w).map(function(e,t){return-1===E.indexOf(e)?r.a.createElement("tr",{style:{height:"30px"},key:t},r.a.createElement("td",{style:{width:25*m/100/2-4,textAlign:"start",float:"left",lineHeight:"3",border:"none",outline:"none"}},e),r.a.createElement("td",{style:{width:25*m/100/2-4,textAlign:"end",float:"left",lineHeight:"3",border:"none",outline:"none"}},w[e]?w[e]:"-")):null})))),r.a.createElement("div",{style:{float:"right",width:74*m/100,height:60*h/100,background:"#fff"}},r.a.createElement(D,Object.assign({},v,{bookmarked:a.state.bookmarked,onBookmarked:a.bookmarkedTableChart.bind(Object(f.a)(Object(f.a)(a)))}))),r.a.createElement("div",{style:{float:"right",width:74*m/100,height:39*h/100,background:"#fff",marginTop:1*h/100}},r.a.createElement(C,_)))},a.bookmarkedTableChart=function(e,t,n){var l=a.state.bookmarked;"BOOKMARK"===e&&l.push(n),"UNBOOKMARK"===e&&(l=l.filter(function(e){return e.columnName!==t})),a.setState({isChartView:!1,bookmarked:l},function(){a.props.onBookmarkedChart(l),a.setState({isChartView:!0})})},a.state={isShow:!1,miniChart:!1,isChartView:!1,allColumns:null,allLists:null,tableId:T(),tbFirstColumn:0,displayColumns:3,listData:[],list:[],columnData:[],columns:[],tbFirstHeight:100,rowHeight:40,headerHeight:50,width:650,height:650,pageItem:10,selectedPage:1,barData:[],histData:[],headerSelectedKey:null,newSelectedLabel:null,deletedColumn:[],bookmarked:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.isShow!==this.state.isShow&&this.setState({isShow:e.isShow},function(){t.initilizeTableDimsFirst()}),e.bookmarked!==this.state.bookmarked&&this.setState({bookmarked:e.bookmarked}),e.deletedColumn!==this.state.deletedColumn&&this.setState({deletedColumn:e.deletedColumn}),e.width>100&&e.width!==this.state.width&&this.setState({width:e.width>650?e.width:650},function(){t.setStateListAndColumnData()}),e.data&&(e.data.bar!==this.state.barData&&this.setState({barData:e.data.bar}),e.data.hist!==this.state.histData&&this.setState({histData:e.data.hist}),e.data.preview1===this.state.allLists&&e.data.columns===this.state.allColumns||this.setState({allLists:e.data.preview1,allColumns:e.data.columns,columnData:[],listData:[],list:[],columns:[]},function(){t._setStateListAndColumns()})),e.selectedLabels!==this.state.newSelectedLabel&&this.setState({newSelectedLabel:e.selectedLabels})}},{key:"componentDidMount",value:function(){this.initilizeTableDimsFirst()}},{key:"_setStateListAndColumns",value:function(){var e=this,t=this.state,a=t.allLists,n=t.allColumns,l=[],r=[];Object.keys(a).forEach(function(e){r.push(a[e])}),Object.keys(n).forEach(function(e,t){l.push({index:t,type:n[e],label:e,dataKey:e})}),this.setState({columnData:l,listData:r,tbFirstColumn:0},function(){e.setStateListAndColumnData()})}},{key:"setStateListAndColumnData",value:function(){var e=this,t=[],a=!1,n=this.state,l=n.columnData,i=n.listData,o=n.barData,s=n.histData,d=n.selectedPage,u=n.pageItem;if(l.length>0){i.forEach(function(e,n){n+1>(d-1)*u&&n+1<=d*u&&(n===(d-1)*u&&o.length>0&&s.length>0&&(a=!0,t.push(Object(c.a)({},e,{chart:!0}))),t.push(e))});var p=l.map(function(t,a){var n=t;return n.index=a,n.width=e.calculateColumnWidth(),n.headerRenderer=function(e){var t=e.label;return r.a.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText"},t)},n.cellRenderer=function(a){var n=a.rowData,l=a.dataKey;if(n.chart){var i="N"===t.type?"histo":"bar",c="N"===t.type?s.find(function(e){return e.cols===t.dataKey}):o.find(function(e){return e.cols===t.dataKey});return c&&c.data&&c.data.length>0?r.a.createElement("div",{style:{cursor:"pointer"},onClick:e.onMiniChartClick.bind(e,n,l),onMouseOver:e.onColumnMouseOver.bind(e,n,l),onMouseOut:e.onColumnMouseOut.bind(e)},r.a.createElement(D,{mode:"micro",chart_type:i,width:e.calculateColumnWidth(),height:"100",chartData:c.data})):r.a.createElement("div",{style:{cursor:"pointer"},onMouseOver:e.onColumnMouseOver.bind(e,n,l),onMouseOut:e.onColumnMouseOut.bind(e)}," --- ")}return n[l]},n});this.setState({list:t,columns:p,miniChart:a},function(){e.initilizeTableDimsFirst()})}}},{key:"_getDisplayColumns",value:function(){var e=this.state,t=e.displayColumns,a=e.columnData,n=e.width,l=t;return this.props.displayColumns&&a.length>0&&(l=parseInt(n/150)),a.length-l>0?l:a.length}},{key:"onClickScroll",value:function(e){var t=this,a=this.state,n=a.tbFirstColumn,l=a.columns,r=a.tableId,i=l.length-this._getDisplayColumns(),o=this.calculateColumnWidth();x.select(".virtualized-table-"+r+" .ReactVirtualized__Grid__innerScrollContainer").selectAll(".table-header-toolTip").remove();var s=document.querySelector(".virtualized-table-".concat(r," .ReactVirtualized__Table__headerRow")),c=document.querySelector(".virtualized-table-".concat(r," .virtulized-scroll"));"left"===e&&n<i?(s.scrollLeft=n*o+o,c.scrollLeft=n*o+o,this.setState({tbFirstColumn:n+1},function(){t.initilizeTableDimsFirst()})):"right"===e&&n>0&&(s.scrollLeft=n*o-o,c.scrollLeft=n*o-o,this.setState({tbFirstColumn:n-1},function(){t.initilizeTableDimsFirst()}))}},{key:"initilizeTableDims",value:function(){var e=this;this.scrollInterval=setInterval(function(){var t=e.state,a=t.rowHeight,n=t.pageItem,l=t.tbFirstHeight,r=t.tableId,i=t.miniChart,o=t.tbFirstColumn,s=e.calculateTableWidth(),c=document.querySelector(".virtualized-table-".concat(r," .ReactVirtualized__Grid__innerScrollContainer")),d=document.querySelector(".virtualized-table-".concat(r," .ReactVirtualized__Table__headerRow"));if(c&&(c.style.minWidth=s+"px",c.style.height=a*n+(i?l:0)+"px",c.style.maxHeight=a*n+(i?l:0)+"px"),d&&(d.style.minWidth=d.style.width||s+"px",i&&c)){c.querySelector(".ReactVirtualized__Table__row").style.height=l+"px";var u=x.select(".virtualized-table-"+r+" .ReactVirtualized__Table__row:nth-child(1)");u.selectAll(".ReactVirtualized__Table__rowColumn").classed("ReactVirtualized__Table__row-border-left",!0),u.select(".ReactVirtualized__Table__rowColumn:nth-child("+(o+1)+")").classed("ReactVirtualized__Table__row-border-left",!1)}clearInterval(e.scrollInterval)},1e3)}},{key:"initilizeTableDimsFirst",value:function(){var e=this.state,t=e.rowHeight,a=e.pageItem,n=e.tbFirstHeight,l=e.tableId,r=e.miniChart,i=e.tbFirstColumn,o=this.calculateTableWidth(),s=document.querySelector(".virtualized-table-".concat(l," .ReactVirtualized__Grid__innerScrollContainer")),c=document.querySelector(".virtualized-table-".concat(l," .ReactVirtualized__Table__headerRow"));if(s&&(s.style.minWidth=o+"px",s.style.height=t*a+(r?n:0)+"px",s.style.maxHeight=t*a+(r?n:0)+"px"),c&&(c.style.minWidth=c.style.width||o+"px",r&&s)){s.querySelector(".ReactVirtualized__Table__row").style.height=n+"px";var d=x.select(".virtualized-table-"+l+" .ReactVirtualized__Table__row:nth-child(1)");d.selectAll(".ReactVirtualized__Table__rowColumn").classed("ReactVirtualized__Table__row-border-left",!0),d.select(".ReactVirtualized__Table__rowColumn:nth-child("+(i+1)+")").classed("ReactVirtualized__Table__row-border-left",!1)}this.initilizeTableDims()}},{key:"handlePageClick",value:function(e){var t=this;this.setState({selectedPage:e.selected+1},function(){t.setStateListAndColumnData()})}},{key:"render",value:function(){var e=this,t=this.props.data&&this.props.data.summary_row?this.props.data.summary_row:null,a=this.state,n=a.isShow,l=a.selectedPage,i=a.listData,o=a.list,s=a.columns,c=a.deletedColumn,d=a.width,u=a.headerHeight,p=a.rowHeight,m=a.newSelectedLabel,h=a.pageItem,f=a.tbFirstHeight,b=a.isChartView,g=a.miniChart;if(!n||s.length<1)return null;var v=this._getDisplayColumns(),y=u+p*h+(g?f:0),x=y+100,_=s.length>0?this.calculateTableWidth():d,S=s.length>0?this.calculateColumnWidth()*v:d,C={minWidth:_,paddingRight:"15px"};return r.a.createElement("div",{style:{width:d,height:x,margin:"auto",textAlign:"center"}},r.a.createElement("div",{style:{width:d,height:30,position:"relative",zIndex:"999"}},c&&!!c.length>0&&!b?r.a.createElement("span",{className:"undo-icon",onClick:this._onUndo.bind(this)}," ",r.a.createElement("img",{alt:"Undo",width:"20px",src:"".concat("","/extensions/MWEx/build/undo-image.png")})," "):r.a.createElement("span",{className:"undo-icon"}," ",r.a.createElement("img",{width:"20px",alt:"Undo",src:"".concat("","/extensions/MWEx/build/undo-image-dis.png")})," "),r.a.createElement("span",{style:{float:"left",marginLeft:"85px",marginTop:"5px"}},!!m&&"Label Selected: "+m),r.a.createElement("span",{className:"headerIcon-span-left",onClick:this.onClickScroll.bind(this,"right")}," ",r.a.createElement("img",{width:"20px",alt:"Scroll",src:"".concat("","/extensions/MWEx/build/left-sc-img.png")})," "),r.a.createElement("span",{className:"headerIcon-span-right",onClick:this.onClickScroll.bind(this,"left")}," ",r.a.createElement("img",{width:"20px",alt:"Scroll",src:"".concat("","/extensions/MWEx/build/right-sc-img.png")})," "),!!t&&r.a.createElement("div",{className:"table-wrap-first-right"},r.a.createElement("label",{className:"table-wrap-label"},t.Rows+" Rows"),r.a.createElement("label",{className:"table-wrap-label"},t.Columns+" Columns"),this.props.useExternal?r.a.createElement("label",null,t.fileOriginalName):"-")),r.a.createElement("div",{style:{width:S,height:x,margin:"auto"}},r.a.createElement(w.a,{disableHeight:!1},function(t){var a=t.width;return r.a.createElement("div",null,r.a.createElement(w.c,{className:"virtualized-table-".concat(e.state.tableId),gridClassName:"virtulized-scroll",width:a,height:y,rowHeight:p,headerHeight:u,rowStyle:C,rowCount:o.length||0,rowGetter:function(e){var t=e.index;return o[t]},onHeaderClick:e.onHeaderClick.bind(e),overscanRowCount:5},s.map(function(e){return r.a.createElement(w.b,Object.assign({key:T()},e,{headerStyle:{minWidth:e.width,paddingRight:"0px"}}))})),o.length>0&&!b?r.a.createElement("div",{style:{width:S},className:"table-pagination"},r.a.createElement(E.a,{previousLabel:"previous",nextLabel:"next",pageCount:Math.ceil(i.length/h),forcePage:l-1,marginPagesDisplayed:1,pageRangeDisplayed:5,onPageChange:e.handlePageClick.bind(e),containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})):null,b?r.a.createElement("div",{style:{width:S,height:"inherit"}},r.a.createElement("span",{className:"backToTable-chart",onClick:e.backToTable.bind(e)}," X "),e.renderFullChart()):null)})))}}]),t}(l.Component),O=a(273),I=a(134),N=(a(228),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).openDialog=function(){a.uploadFile&&a.uploadFile.open()},a.onDrop=function(e){var t=e[0];a.setState({uploadedFileName:t.name,uploading:!0,fileProgressed:0},function(){a.props.onDrop&&a.props.onDrop(t,a.onProgressUpload,a.getCancelSource),a.uploadInterval=setInterval(function(){var e=a.state,t=e.fileProgressed,n=e.uploading;t>99||!n?clearInterval(a.uploadInterval):a.setState({fileProgressed:t+.2})},5)})},a.onProgressUpload=function(e){e?(clearInterval(a.uploadInterval),a.completeInterval=setInterval(function(){var e=a.state.fileProgressed;e>99?(clearInterval(a.completeInterval),a.setState({uploading:!1},function(){a.props.onComplete&&a.props.onComplete()})):a.setState({fileProgressed:e+.5})},5)):a.setState({uploading:!1},function(){clearInterval(a.uploadInterval),clearInterval(a.completeInterval)})},a.getCancelSource=function(e){a.cancelSource=e},a.onCancelRequest=function(){a.setState({uploading:!1},function(){clearInterval(a.uploadInterval),clearInterval(a.completeInterval),a.cancelSource&&a.cancelSource.cancel()})},a.state={uploading:!1,uploadedFileName:null,fileProgressed:0,showSelectTable:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.uploadInterval),clearInterval(this.completeInterval)}},{key:"render",value:function(){var e=this,t=this.state,a=t.uploading,n=t.fileProgressed,l=t.uploadedFileName,i=this.props.isDropzone&&this.props.isDropzone?{cursor:"pointer",outline:"none",height:"50px",border:"1px dashed #bdbdbd",textAlign:"center",lineHeight:"1em",color:"rgb(117, 117, 117)",background:"#e4e4e4",fontFamily:"Roboto, sans-serif"}:{display:"none"};return r.a.createElement(r.a.Fragment,null,!0===a?r.a.createElement("div",{className:"progress-upload-container"},r.a.createElement("img",{style:{width:"4%",margin:"8px"},alt:"Loading",src:"".concat("","/extensions/MWEx/build/loader.svg")}),r.a.createElement("label",{title:l,className:"progress-label"},l),r.a.createElement(O.a,{className:"uploaded-progress",value:n}),r.a.createElement("img",{onClick:this.onCancelRequest.bind(this),className:"cancel-icon",alt:"Cancel",src:"".concat("","/extensions/MWEx/build/cancel-50.png")})):r.a.createElement(I.a,{onDrop:this.onDrop.bind(this),ref:function(t){return e.uploadFile=t}},function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",Object.assign({},t(),{style:i}),r.a.createElement("input",a()),r.a.createElement("p",null,"Drag a file or browse to upload"))}))}}]),t}(l.Component)),P=(a(229),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l))))._onClick=function(){a.props.onOKClick&&a.props.onOKClick()},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.error?r.a.createElement("div",null,r.a.createElement("div",{className:"error-container"},r.a.createElement("img",{alt:"Error",src:"".concat("","/extensions/MWEx/build/error.png"),width:50}),r.a.createElement("p",null,!this.props.error.heading||""===this.props.error.heading&&null===this.props.error.heading?null:this.props.error.heading),r.a.createElement("p",null,this.props.error.message),r.a.createElement("button",{onClick:this._onClick.bind(this),className:"btn-error "}," OK "))):null}}]),t}(l.Component)),z=a(80),V=(a(268),a(269),a(274)),M=a(275),j=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).onRowSelect=function(e,t,n){var l=a.state.selectedColumns,r=void 0===l?[]:l;t?r.push(e.value):r=r.filter(function(t){return t!==e.value}),a.setState({selectedColumns:r},function(){a.props.onSelectLabel(a.state.selectedColumns)})},a.onSelectAll=function(e){var t,n=a.state.selectedColumns,l=void 0===n?[]:n,r=window.mwExtVariable.internalColumns,i=void 0===r?[]:r;e?(a.props.onSelectLabel(i),(t=l).push.apply(t,Object(s.a)(i))):l=[];return a.setState({selectedColumns:l},function(){console.log("updated state",a.state.selectedColumns),a.props.onSelectLabel(a.state.selectedColumns)}),i},a.state={selectedColumns:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){this.setState({selectedColumns:[]})}},{key:"render",value:function(){var e=window.mwExtVariable.internalColumns,t=void 0===e?[]:e,a=[];t&&t.map(function(e,t){var n={value:e};return a.push(n),e});var n={mode:"checkbox",clickToSelect:!0,onSelect:this.onRowSelect,onSelectAll:this.onSelectAll};return r.a.createElement(V.a,null,r.a.createElement(M.a,{md:12},r.a.createElement(z.BootstrapTable,{ref:"table",className:"selectedTable",data:a,options:{sizePerPage:10,paginationSize:3,prePage:"previous",nextPage:"next"},pagination:!0,striped:!0,hover:!0,selectRow:n},r.a.createElement(z.TableHeaderColumn,{isKey:!0,dataField:"value"},"Fields"))))}}]),t}(l.Component),L=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).onPollingLoading=function(){a._isMounted&&(a.st=0,a.setState({loading:!0,activate:0,classes:["active","","","",""]},function(){a.props.onStart&&a.props.onStart()}))},a.onPollingLoading1=function(){a.setTimeUploadInterval=setInterval(function(){var e=a.state,t=e.steps,n=e.activate,l=e.classes;if(e.loading){if(t.length>n+1&&a.st+1>n){var r=l.map(function(e,t){return t<n+1?"done":t===n+1?"active":""});a._isMounted&&a.setState({classes:r,activate:n+1})}}else clearInterval(a.setTimeUploadInterval),a.onStopLoading()},2e3)},a.onLoading=function(){a.setState({loading:!0,activate:0,classes:["active","","","",""]},function(){a.props.onStart&&a.props.onStart(),a.setTimeInterval=setInterval(function(){var e=a.state,t=e.activate,n=e.steps,l=e.classes;if(e.loading){if(n.length!==t+1){var r=l.map(function(e,a){return a<t+1?"done":a===t+1?"active":""});a._isMounted&&a.setState({classes:r,activate:t+1})}}else a.cancel()},3e3)})},a.onStopLoading=function(){a._isMounted&&a.setState({loading:!1},function(){clearInterval(a.setTimeInterval)})},a.cancel=function(){a.onStopLoading(),a.props.onCancel&&a.props.onCancel()},a.state={loading:!1,activate:0,steps:["Data Loading","Preprocessing","Fitting","Evaluation","Scoring and Publication"],classes:["active","","","",""],intervalVar:0},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.responseData!==this.props.responseData){var a=e.responseData;a&&a.item&&a.item.models.forEach(function(e,a){e.statuses.forEach(function(e,a){"Complete"===e.status&&t.state.steps.indexOf(e.step)>t.st&&(t.onPollingLoading1(),t.st=t.state.steps.indexOf(e.step))})})}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,clearInterval(this.setTimeInterval)}},{key:"render",value:function(){var e=this.state,t=e.steps,a=e.classes,n=e.loading;return r.a.createElement("div",null,!0===n?r.a.createElement("div",null,r.a.createElement("div",{className:"content-stepper-horizontal orange"},r.a.createElement("div",{className:"content-step ".concat(a[0])},r.a.createElement("div",{className:"content-step-title"},t[0]),r.a.createElement("div",{className:"content-step-bar-left"}),r.a.createElement("div",{className:"content-step-bar-right"})),r.a.createElement("div",{className:"content-step ".concat(a[1])},r.a.createElement("div",{className:"content-step-title"},t[1]),r.a.createElement("div",{className:"content-step-bar-left"}),r.a.createElement("div",{className:"content-step-bar-right"})),r.a.createElement("div",{className:"content-step ".concat(a[2])},r.a.createElement("div",{className:"content-step-title"},t[2]),r.a.createElement("div",{className:"content-step-bar-left"}),r.a.createElement("div",{className:"content-step-bar-right"})),r.a.createElement("div",{className:"content-step ".concat(a[3])},r.a.createElement("div",{className:"content-step-title"},t[3]),r.a.createElement("div",{className:"content-step-bar-left"}),r.a.createElement("div",{className:"content-step-bar-right"})),r.a.createElement("div",{className:"content-step ".concat(a[4])},r.a.createElement("div",{className:"content-step-title"},t[4]),r.a.createElement("div",{className:"content-step-bar-left"}),r.a.createElement("div",{className:"content-step-bar-right"}))),r.a.createElement("div",{className:"stepper-horizontal-container"},r.a.createElement("img",{alt:"Loading...",src:"".concat("","/extensions/MWEx/build/loader.svg"),width:80}),r.a.createElement("p",{style:{color:"#757575"}}),r.a.createElement("button",{className:"btn-cancel",onClick:this.cancel.bind(this)},"Cancel"))):null)}}]),t}(l.Component),F=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<30;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},B=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={gradRandomId:F(),margin:{top:10,right:10,bottom:10,left:150}},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"renderGraph",value:function(e){x.select(this.barChart).selectAll("svg").remove();var t=e.data;if(t&&t.length>0){var a=this.state,n=a.margin,l=a.gradRandomId;n.left=e.width/3;var r=e.width-n.left-n.right,i=400-n.top-n.bottom;t=t.sort(function(e,t){return x.ascending(e.Importance,t.Importance)});var o=x.select(this.barChart).append("svg").attr("width",r+n.left+n.right).attr("height",i+n.top+n.bottom).attr("fill","#757575"),s=o.append("g").attr("transform","translate("+(e.width-100)+",10)");s.append("rect").attr("width","10").attr("height","10").attr("x","-20").attr("y","-8").attr("fill","url(#gradient-bar-chart-"+l+")"),s.append("text").text("Key Drivers").style("font-size","10px");var c=o.append("g").attr("transform","translate("+n.left+","+n.top+")"),d=x.scale.linear().range([0,r]).domain([0,x.max(t,function(e){return e.Importance})]).nice(),u=x.scale.ordinal().rangeRoundBands([i,0],.1).domain(t.map(function(e){return e.feature})),p=x.svg.axis().scale(u).tickSize(0).orient("left");c.append("g").attr("class","y axis").attr("transform","translate(-25,0)").call(p);var m=c.selectAll(".bar").data(t).enter().append("g");m.append("rect").attr("class","bar").attr("y",function(e){return u(e.feature)}).attr("height",u.rangeBand()).attr("x",0).attr("width",function(e){return d(e.Importance)}).attr("fill","url(#gradient-bar-chart-"+l+")"),m.append("text").attr("class","label").style("display","none").attr("font-size","10px").attr("y",function(e){return u(e.feature)+u.rangeBand()/2+4}).attr("x",function(e){return d(e.Importance)+3}).text(function(e){return e.Importance});var h=c.append("defs").append("svg:linearGradient").attr("id","gradient-bar-chart-"+l).attr("x1","0%").attr("y1","100%").attr("x2","100%").attr("y2","100%").attr("spreadMethod","pad");h.append("stop").attr("offset","0%").attr("stop-color","#F28454").attr("stop-opacity",1),h.append("stop").attr("offset","100%").attr("stop-color","#EE686A").attr("stop-opacity",1)}}},{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.renderGraph(e)}},{key:"componentDidMount",value:function(){this.renderGraph(this.props)}},{key:"componentWillUnmount",value:function(){x.select(this.barChart).select("svg").remove()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:function(t){e.barChart=t}})}}]),t}(l.Component),U=a(81),q=a.n(U);y.a.defaults.timeout=6e4;var W=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).interval=null,a.handleResize=function(){return a.setState({windowHeight:window.innerHeight,windowWidth:window.innerWidth})},a.loginApp=function(){var e=window.mwExtVariable,t=e.username,n=e.password,l=e.apiUrl,r={headers:{"Content-Type":"application/x-www-form-urlencoded"}},i="email=".concat(t,"&password=").concat(n);return new Promise(function(e,t){y.a.post(l+"loginUser",i,r).then(function(n){n.data.message&&n.data.message.token?a.setState({token:n.data.message.token,storageHrefLink:null!==n.data.message.hyperLink?n.data.message.hyperLink:""},function(){e()}):t()}).catch(function(e){t(e)})})},a._callingPostAPIs=function(e,t,n,l,r){var i=window.mwExtVariable.apiUrl,o=Object(f.a)(Object(f.a)(a));return new Promise(function(a,s){var c=y.a.CancelToken.source();n.cancelToken=c.token,r&&r(c),y.a.post(i+e,t,n).then(function(e){null===e.data.message&&""===e.data.message||"object"!==typeof e.data.message?(o._setErrorMessage(e.data.message),l&&l(!1),s(e.data.message)):a(e.data.message)}).catch(function(e){o._setErrorMessage(e),l&&l(!1),s(e)})})},a.getCancelSource=function(e){a.cancelRequestSource=e},a.onProgress=function(e){e||(a.setState({loading:!1}),clearInterval(a.setTimeInterval),a.contentStepper&&a.contentStepper.onStopLoading())},a.onStepChange=function(e){a.setState({step:e})},a._onErrorClick=function(){a.setState({error:null,loading:!1})},a._onClickStep=function(e){var t=window.mwExtVariable.options.interactionState,n=a.state,l=n.error,r=n.tableData,i=n.evelResults,o=n.runAlgoFlag;a.setState({showSelectTable:!1,tempEvelResults:null}),l||1!==t||(0===e?a.fileUploader&&a.fileUploader.openDialog():1===e&&r.selectedLabel&&!i?o?a.setState({loading:!0},function(){a._createNewRun()}):a.contentStepper&&a.contentStepper.onPollingLoading():2===e&&a._batchPredictionAPI())},a._onSelectStep=function(e,t,n){var l=a.state,r=l.error,i=l.tableData,o=l.evelResults,s=l.runAlgoFlag,c=l.selectedLabelValue,d=l.interactionState,u=l.showSelectTable;c&&0!==c.length&&(u?1===d&&(a.setState({loading:!0,showSelectTable:!1}),window.mwExtVariable.getExportedData(c).then(function(t){var n=new File([t],"".concat(q.a.v4(),".json"),{type:"application/json"});r||1!==d||(0===e?a._fileUpload(n,a.onProgress(!0),a.getCancelSource):1===e&&i.selectedLabel&&!o?s?a.setState({loading:!0},function(){a._createNewRun()}):a.contentStepper&&a.contentStepper.onPollingLoading():2===e&&a._batchPredictionAPI())},function(e){console.log("error in fetching window.mwExtVariable.getExportedData",e)})):a.setState({showSelectTable:!0,step:0}))},a._onSelectLabel=function(e){a.setState({selectedLabelValue:e})},a._backOnTableView=function(){a.setState({evelResults:null,tempEvelResults:a.state.evelResults})},a.forwardOnTrainedView=function(){a.setState({evelResults:a.state.tempEvelResults,tempEvelResults:null})},a._backOnUploadView=function(){a.setState({step:2,evelResults:a.state.evelResults,predicted:!1})},a._backOnResultView=function(){a.setState({step:2,evelResults:a.state.evelResults,predicted:!1})},a._backOnPredictedView=function(e,t){a.setState({step:1,predicted:!1,predictFileName:t!==a.state.executeModelRequest.label?null:a.state.predictFileName})},a._onTrainingStart=function(){a.setState({loading:!0},function(){a._predictFlagFromLabelAPI()})},a._onTrainingCancelReq=function(){a._setErrorMessage("Request Cancelled"),clearInterval(a.setTimeInterval),a.cancelRequestSource&&a.cancelRequestSource.cancel(),a.onProgress(!1)},a._onTrainingReqError=function(){a._setErrorMessage(""),clearInterval(a.setTimeInterval),a.cancelRequestSource&&a.cancelRequestSource.cancel()},a._createNewRun=function(){var e=a.state,t=e.executeModelResult,n=e.tableData.fileUploadData;if(n&&t){var l={headers:{Authorization:"Bearer "+a.state.token,"Content-Type":"application/json"}},r={runPayload:{runName:n.runName,experimentName:n.experimentName,fileName:n.file.fileName,fileFormat:n.file.fileFormat,userId:t.item.userId,fileOriginalName:n.file.fileOriginalName,errorFlag:!1},runId:n.runId};a._callingPostAPIs("createNewRun",r,l,null,null).then(function(e){var t=JSON.parse(e.csvData),n=Object(c.a)({},a.state.tableData,{fileUploadData:e,chartData:Object(c.a)({},t,{summary_row:Object(c.a)({},t.summary_row,{fileOriginalName:e.file.fileOriginalName})})});a.setState({tableData:n,runAlgoFlag:!1},function(){a.contentStepper&&a.contentStepper.onPollingLoading()})})}},a._fileUpload=function(e,t,n){var l=window.mwExtVariable.algorithm;a.setState({step:0,evelResults:null,predictFileName:null,runAlgoFlag:!1,predicted:!1,tableData:{fileUploadData:null,chartData:null,selectedLabel:null,deletedColumn:[],bookmarked:[]},executeModelRequest:{runId:null,label:null,features:[],predictionFlag:null,kfold:0,runOption:"A",evalMetric:"mean_squared_error",algorithms:[l],toggleValue:!1,algoSettings:[],hyperParameterFlag:!1,pcaFlag:!1,pcaValue:.95,advanceAlgoSettings:!0,trainTestSplit:.3}},function(){var r={headers:{Authorization:a.state.token,"Content-Type":"multipart/form-data"}},i=new FormData;i.append("file",e),i.append("experimentName","".concat(l,"Experiment")+q.a.v4()),a.state.token?a._callingPostAPIs("fileUpload",i,r,t,n).then(function(e){var n=JSON.parse(e.csvData);a.setState({loading:!1,tableData:Object(c.a)({},a.state.tableData,{fileUploadData:e,chartData:Object(c.a)({},n,{summary_row:Object(c.a)({},n.summary_row,{fileOriginalName:e.file.fileOriginalName})})})},function(){t&&t(!0),setInterval(function(){a.setState({showVirtualTable:!0})},500)})}):a.loginApp().then(function(){a._fileUpload(e,t,n)}).catch(function(e){t&&t(!1),a._setErrorMessage("Authentication Failure")})})},a._predictFlagFromLabelAPI=function(){var e=window.mwExtVariable.algorithm,t=a.state.tableData,n=t.selectedLabel,l=t.fileUploadData;if(l&&n){var r={label:n,runId:l.runId,serverFile:l.file},i={headers:{Authorization:"Bearer "+a.state.token,"Content-Type":"application/json"}};a._callingPostAPIs("predictFlagFromLabel",r,i,a.onProgress,a.getCancelSource).then(function(t){var n=t.algorithm.filter(function(t){return t.algorithmName===e});if(void 0===n[0])a._setErrorMessage("Error in Selected Algorithm "),a.onProgress&&a.onProgress(!1);else{var l=t.evaluationMetric.find(function(e){return e.DEFAULT_FLAG});l&&a.setState({executeModelRequest:Object(c.a)({},a.state.executeModelRequest,{algoSettings:[{algorithmName:n[0].algorithmName,settings:n[0].settings.map(function(e){return{value:e.defaultValue,name:e.name}})}]||!1,algorithms:[n[0].algorithmName],runOption:"AutoML"===n[0].algorithmName?"A":"RL",predictionFlag:l.PREDICTOR_FLAG,evalMetric:"C"===l.PREDICTOR_FLAG?"accuracy_score":"mean_squared_error",kfold:10})},function(){a._executeModelAPI()})}})}},a._executeModelAPI=function(){var e=a.state,t=e.tableData,n=e.executeModelRequest,l=t.fileUploadData,r=t.selectedLabel,i=t.deletedColumn;if(l&&r){var o=[],s=JSON.parse(l.csvData);Object.keys(s.columns).forEach(function(e){e!==r&&i.indexOf(e)<0&&o.push(e)});var d=Object(c.a)({},n,{label:r,runId:l.runId,features:o});window.mwExtVariable.executeModelRequestPayload=d,a.setState({executeModelRequest:d},function(){var e={headers:{Authorization:"Bearer "+a.state.token,"Content-Type":"application/json"}};a._callingPostAPIs("executeModel",d,e,a.onProgress,a.getCancelSource).then(function(e){a.setState({executeModelResult:e},function(){a._runAlgorithmsAPI()})})})}},a._runAlgorithmsAPI=function(){var e=a.state.tableData.fileUploadData;if(e){var t={runId:e.runId},n={headers:{Authorization:"Bearer "+a.state.token,"Content-Type":"application/json"}};a._callingPostAPIs("runAlgorithms",t,n,a.onProgress,a.getCancelSource).then(function(e){return a.setState({runAlgoFlag:!0},function(){return setTimeout(function(){a._processStatusAPI()},5e3)})}).catch(function(e){return a.setState({runAlgoFlag:!0})})}},a._processStatusAPI=function(){var e=a.state,t=e.tableData,n=e.executeModelRequest,l=t.fileUploadData,r=t.selectedLabel;if(l&&r){var i={runId:l.runId,predictionFlag:n.predictionFlag},o={headers:{Authorization:"Bearer "+a.state.token,"Content-Type":"application/json"}};a._callingPostAPIs("processStatus",i,o,a.onProgress,a.getCancelSource).then(function(e){a.setState({responseData:e}),e.item&&!0===e.item.complete?a._getEvaluationResultsAPI():null===e.item?(a.onProgress(!1),a._onTrainingReqError()):a.state.loading&&setTimeout(function(){a._processStatusAPI()},2e3)})}},a._getEvaluationResultsAPI=function(){clearInterval(a.setTimeInterval);var e=a.state.tableData,t=e.fileUploadData,n=e.selectedLabel;if(t&&n){var l="runId=".concat(t.runId,"&modelName=").concat(window.mwExtVariable.algorithm),r={headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer "+a.state.token}};a._callingPostAPIs("getEvaluationResults",l,r,a.onProgress,a.getCancelSource).then(function(e){window.mwExtVariable.getevalResponsePayload=e,e.evalResults&&e.evalResults.modelResults?a._deployAPI(e):(a.onProgress(!1),a._onTrainingReqError())})}},a._deployAPI=function(e){var t=window.mwExtVariable.algorithm,n=a.state.tableData,l=n.fileUploadData,r=n.selectedLabel;if(l&&r){var i={runId:l.runId,modelName:t,deployName:l.file.fileName+"_".concat(t,".pkl")},o={headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.state.token}};a._callingPostAPIs("deploy",i,o,a.onProgress,a.getCancelSource).then(function(t){window.mwExtVariable.deployResponsePayload=t,a.onProgress(!1),a.setState({evelResults:e,loading:!1})})}},a._uploadTestFile=function(e,t,n){var l=Object(f.a)(Object(f.a)(a)),r=new FileReader;r.onload=function(){var a=!0,i=r.result.split("\n")[0].split(",");i=i.map(function(e){return e.trim()});var o=l.state,s=o.executeModelRequest,c=o.token;if(i.length>0){var d=0;if(s.features.forEach(function(e){i.indexOf(e)>=0&&(d+=1)}),s.features.length<=i.length&&d===s.features.length&&(a=!1),a)t&&t(!1),l.setState({error:{message:"There was an error in the uploaded file.Please check the file format and also ensure all the required features were available for the model  "}});else{var u={headers:{Authorization:"Bearer "+c,"Content-Type":"multipart/form-data"}},p=new FormData;p.append("file",e),l._callingPostAPIs("uploadFile",p,u,t,n).then(function(e){l.setState({predictFileName:e.fileName},function(){t&&t(!1),l.onStepChange(2)})})}}},r.readAsText(e)},a._batchPredictionAPI=function(){a.setState({loading:!0,predicted:!1},function(){var e=a.state,t=e.tableData,n=e.executeModelRequest,l=e.predictFileName,r=e.token,i=e.storageHrefLink,o=t.fileUploadData,s=t.selectedLabel;if(o&&n&&s){var c={runId:o.runId,fileName:l,label:s,features:n.features},d={headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}};a._callingPostAPIs("predictResults",c,d,null,null).then(function(e){e.status?(window.mwExtVariable.predict_file=i?i+"/"+l+"_predictions.csv":window.mwExtVariable.apiUrl+"uploads/"+l+"_predictions.csv",window.mwExtVariable.dataJson=e.data.dataJson,a.setState({loading:!1,predicted:!0}),document.getElementById("predictLoadButton")&&document.getElementById("predictLoadButton").click()):(a.onProgress&&a.onProgress(!1),a.setState({error:{message:"An error occurred. Please check your file and try again or contact support@machineworksai.com"}}))}).catch(function(e){return a.setState({loading:!1})})}})},a.state={windowWidth:1e3,windowHeight:600,token:null,step:0,error:null,loading:!1,runAlgoFlag:!1,predictFileName:null,evelResults:null,tempEvelResults:null,predicted:!1,tableData:{fileUploadData:null,chartData:null,selectedLabel:null,deletedColumn:[],bookmarked:[]},executeModelRequest:{runId:null,label:null,features:[],predictionFlag:null,kfold:0,runOption:"A",evalMetric:"mean_squared_error",algorithms:window.mwExtVariable.algorithm,toggleValue:!1,algoSettings:[],hyperParameterFlag:!1,pcaFlag:!1,pcaValue:.95,advanceAlgoSettings:!0,trainTestSplit:.3},executeModelResult:null,responseData:null,selectedLabelValue:null,useExternal:window.mwExtVariable.useExternal,interactionState:window.mwExtVariable.options.interactionState,showSelectTable:!0,internalColumns:window.mwExtVariable.internalColumns,storageHrefLink:null,showVirtualTable:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){window.mwExtVariable.flag1=1,this.interval.clearInterval(),window.removeEventListener("resize",this.handleResize),this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.handleResize(),window.addEventListener("resize",this.handleResize),this.interval=setInterval(function(){e.setState({useExternal:window.mwExtVariable.useExternal,interactionState:window.mwExtVariable.options.interactionState})},1)}},{key:"_setErrorMessage",value:function(e){var t={},a=this.state.step;0===a?(t.heading="Error in the uploaded file.",t.message="Please check the file is correct format and try again"):1===a?(t.heading="Error during model build.",t.message="Check to see if the correct label and features were selected"):2===a&&(t.heading="Error in prediction.",t.message="something went wrong, try again"),y.a.isCancel(e)?(t.heading="",t.message="Request Cancelled"):"ECONNABORTED"===e.code?(t.heading="",t.message="Request timeout"):"string"===typeof e&&""!==e&&("Request Cancelled"!==e&&"Authentication Failure"!==e||(t.heading=""),t.message=e),this.setState({error:t})}},{key:"_onSelectedLabel",value:function(e){var t=this;if(""===e||null===e){var a=Object(c.a)({},this.state.tableData,{selectedLabel:null});this.setState({tableData:a,selectedLabel:e,evelResults:null,predictFileName:null},function(){t.onStepChange(0)})}else{var n=Object(c.a)({},this.state.tableData,{selectedLabel:e});this.setState({tableData:n,selectedLabel:e,evelResults:null,predictFileName:null},function(){t.onStepChange(1)})}}},{key:"bookmarkedChart",value:function(e){var t=Object(c.a)({},this.state.tableData,{bookmarked:e});this.setState({tableData:t})}},{key:"_onRemoveColumn",value:function(e){var t=this,a=this.state.tableData,n=a.chartData,l=a.selectedLabel,r=a.deletedColumn,i={};Object.keys(n.columns).forEach(function(t){t!==e&&(i[t]=n.columns[t])});var o=Object(c.a)({},n,{columns:i}),d=[e].concat(Object(s.a)(r)),u=Object(c.a)({},this.state.tableData,{chartData:o,deletedColumn:d});this.setState({tableData:u,step:l?1:0},function(){e===l&&t._onSelectedLabel(null)})}},{key:"_onUndo",value:function(){var e=this.state.tableData,t=e.chartData,a=e.deletedColumn,n=e.fileUploadData,l=JSON.parse(n.csvData);a.splice(0,1);var r=Object.assign({},l.columns);a.forEach(function(e){delete r[e]});var i=Object(c.a)({},t,{columns:r}),o=Object(c.a)({},this.state.tableData,{chartData:i,deletedColumn:a});this.setState({tableData:o})}},{key:"render",value:function(){var e=this,t=this.state,a=t.step,n=t.error,l=t.tableData,i=t.loading,o=t.evelResults,s=t.predicted,c=t.windowWidth,d=t.useExternal,u=t.interactionState,p=t.showSelectTable,m=t.internalColumns,h=t.showVirtualTable,f=void 0!==h&&h,v=l.selectedLabel,y=l.deletedColumn,x=l.chartData,w=l.bookmarked,_=a<3&&!n&&!!x&&!i&&!o&&!p&&m&&f,E=new Date(null);return o&&(E.setSeconds(o.evalResults.modelResults[o.evalResults.algorithm].Time),E=(E=E.toISOString()).substr(11,8)),r.a.createElement("div",{className:"container"},r.a.createElement(b,{step:a,onClickStep:this._onClickStep.bind(this),backOnTableView:this._backOnTableView.bind(this),backOnResultView:this._backOnResultView.bind(this),backOnPredictedView:this._backOnPredictedView.bind(this),forwardOnTrainedView:this.forwardOnTrainedView.bind(this),backOnUploadView:this._backOnUploadView.bind(this),stepperData:this.state,onSelectStep:this._onSelectStep.bind(this),selectedLabel:this.state.selectedLabel}),1===u?r.a.createElement(g,{step:a},r.a.createElement(N,{ref:function(t){return e.fileUploader=t},onDrop:this._fileUpload.bind(this)}),1===a?r.a.createElement(L,{responseData:this.state.responseData,ref:function(t){return e.contentStepper=t},onStart:this._onTrainingStart.bind(this),onCancel:this._onTrainingCancelReq.bind(this)}):null,1===a&&o&&!n?r.a.createElement("div",null,r.a.createElement("div",{style:{width:"100%",float:"left"}},r.a.createElement(N,{isDropzone:!0,onDrop:this._uploadTestFile.bind(this)})),r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{borderBottom:"1px solid #e0e0e0"}},r.a.createElement(B,{data:o.evalResults.evalGraphResults.eval,width:c/2-20})),r.a.createElement("td",{style:{borderLeft:"1px solid #e0e0e0",verticalAlign:"initial",borderBottom:"1px solid #e0e0e0"}},r.a.createElement("table",{style:{width:c/2-20+"px",marginTop:"10px"},className:"model-result-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Model"),r.a.createElement("td",null,o.evalResults.algorithm)),r.a.createElement("tr",null,r.a.createElement("td",null,"Status"),r.a.createElement("td",null,"Complete")),r.a.createElement("tr",null,r.a.createElement("td",null,"Time"),r.a.createElement("td",null,E)),r.a.createElement("tr",null,r.a.createElement("td",null,"Score"),r.a.createElement("td",null,o.evalResults.modelResults[o.evalResults.algorithm].Score)))))))))):null,2!==a||!o||i||n||!1!==s?null:r.a.createElement("div",{className:"stepper-horizontal-container"},r.a.createElement("div",null,r.a.createElement(N,{isDropzone:!0,onDrop:this._uploadTestFile.bind(this)})),r.a.createElement("p",{style:{color:"#757575",marginTop:"84px",marginLeft:"-34px",width:"calc(100vw - 100px)",fontFamily:"Roboto, sans-serif"}},"Vizualize prediction results")),2===a&&i||i&&!d&&0===a?r.a.createElement("div",{className:"stepper-horizontal-container"},r.a.createElement("img",{alt:"Loading...",src:"".concat("","/extensions/MWEx/build/loader.svg"),width:80})):null,2===a&&o&&s?r.a.createElement("div",{className:"stepper-horizontal-container"},r.a.createElement("div",null),r.a.createElement("p",{style:{color:"#757575",marginTop:"84px",fontFamily:"Roboto, sans-serif"}},"Predict complete. ",r.a.createElement("a",{href:window.mwExtVariable.predict_file},"Click here to download"))):null,r.a.createElement(A,{isShow:_,bookmarked:w,deletedColumn:y,onUndo:this._onUndo.bind(this),selectedLabels:v,useExternal:d,onBookmarkedChart:this.bookmarkedChart.bind(this),data:x,displayColumns:parseInt((c-50)/150),width:c-50,onRemoveColumn:this._onRemoveColumn.bind(this),onSelectedLabel:this._onSelectedLabel.bind(this)}),r.a.createElement(P,{onOKClick:this._onErrorClick.bind(this),error:n}),!p||d||1!==u||i?null:r.a.createElement(j,{onSelectLabel:this._onSelectLabel.bind(this)})):null)}}]),t}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},83:function(e,t,a){}},[[136,1,2]]]);
//# sourceMappingURL=main.0b26208a.chunk.js.map